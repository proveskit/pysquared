<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="CircuitPython based Flight Software Library for the PROVES Kit."><link href=https://docs.proveskit.space/design-guide/ rel=canonical><link href=../frozen-modules/ rel=prev><link href=../contributing/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Design Guide - ProvesKit PySquared</title><link rel=stylesheet href=../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/timeago.css><link rel=stylesheet href=../assets/_mkdocstrings.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#design-guide class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="ProvesKit PySquared" class="md-header__button md-logo" aria-label="ProvesKit PySquared" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ProvesKit PySquared </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Design Guide </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/proveskit/pysquared title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> proveskit/pysquared </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../radio-test/ class=md-tabs__link> Radio Test </a> </li> <li class=md-tabs__item> <a href=../frozen-modules/ class=md-tabs__link> Frozen Modules </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Design Guide </a> </li> <li class=md-tabs__item> <a href=../contributing/ class=md-tabs__link> Contributing Guide </a> </li> <li class=md-tabs__item> <a href=../api/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../license/ class=md-tabs__link> License </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="ProvesKit PySquared" class="md-nav__button md-logo" aria-label="ProvesKit PySquared" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> ProvesKit PySquared </label> <div class=md-nav__source> <a href=https://github.com/proveskit/pysquared title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> proveskit/pysquared </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../radio-test/ class=md-nav__link> <span class=md-ellipsis> Radio Test </span> </a> </li> <li class=md-nav__item> <a href=../frozen-modules/ class=md-nav__link> <span class=md-ellipsis> Frozen Modules </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Design Guide </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Design Guide </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#circuitpython class=md-nav__link> <span class=md-ellipsis> CircuitPython </span> </a> <nav class=md-nav aria-label=CircuitPython> <ul class=md-nav__list> <li class=md-nav__item> <a href=#resources class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#types-and-type-checking class=md-nav__link> <span class=md-ellipsis> Types and Type Checking </span> </a> </li> <li class=md-nav__item> <a href=#protocols class=md-nav__link> <span class=md-ellipsis> Protocols </span> </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> <li class=md-nav__item> <a href=#documentation class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> <nav class=md-nav aria-label=Documentation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#module-documentation class=md-nav__link> <span class=md-ellipsis> Module Documentation </span> </a> </li> <li class=md-nav__item> <a href=#class-documentation class=md-nav__link> <span class=md-ellipsis> Class Documentation </span> </a> </li> <li class=md-nav__item> <a href=#functionmethod-documentation class=md-nav__link> <span class=md-ellipsis> Function/Method Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sensor-readings class=md-nav__link> <span class=md-ellipsis> Sensor Readings </span> </a> <nav class=md-nav aria-label="Sensor Readings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#resources_1 class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dependency-management class=md-nav__link> <span class=md-ellipsis> Dependency Management </span> </a> </li> <li class=md-nav__item> <a href=#linting-and-code-style class=md-nav__link> <span class=md-ellipsis> Linting and Code Style </span> </a> <nav class=md-nav aria-label="Linting and Code Style"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#linting class=md-nav__link> <span class=md-ellipsis> Linting </span> </a> </li> <li class=md-nav__item> <a href=#code-style class=md-nav__link> <span class=md-ellipsis> Code Style </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#error-handling class=md-nav__link> <span class=md-ellipsis> Error Handling </span> </a> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loading-and-accessing-configuration class=md-nav__link> <span class=md-ellipsis> Loading and Accessing Configuration </span> </a> </li> <li class=md-nav__item> <a href=#updating-configuration class=md-nav__link> <span class=md-ellipsis> Updating Configuration </span> </a> </li> <li class=md-nav__item> <a href=#validation class=md-nav__link> <span class=md-ellipsis> Validation </span> </a> </li> <li class=md-nav__item> <a href=#radio-configuration class=md-nav__link> <span class=md-ellipsis> Radio Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#imports class=md-nav__link> <span class=md-ellipsis> Imports </span> </a> </li> <li class=md-nav__item> <a href=#non-volatile-memory-nvm class=md-nav__link> <span class=md-ellipsis> Non-Volatile Memory (NVM) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing Guide </span> </a> </li> <li class=md-nav__item> <a href=../api/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#circuitpython class=md-nav__link> <span class=md-ellipsis> CircuitPython </span> </a> <nav class=md-nav aria-label=CircuitPython> <ul class=md-nav__list> <li class=md-nav__item> <a href=#resources class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#types-and-type-checking class=md-nav__link> <span class=md-ellipsis> Types and Type Checking </span> </a> </li> <li class=md-nav__item> <a href=#protocols class=md-nav__link> <span class=md-ellipsis> Protocols </span> </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> <li class=md-nav__item> <a href=#documentation class=md-nav__link> <span class=md-ellipsis> Documentation </span> </a> <nav class=md-nav aria-label=Documentation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#module-documentation class=md-nav__link> <span class=md-ellipsis> Module Documentation </span> </a> </li> <li class=md-nav__item> <a href=#class-documentation class=md-nav__link> <span class=md-ellipsis> Class Documentation </span> </a> </li> <li class=md-nav__item> <a href=#functionmethod-documentation class=md-nav__link> <span class=md-ellipsis> Function/Method Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sensor-readings class=md-nav__link> <span class=md-ellipsis> Sensor Readings </span> </a> <nav class=md-nav aria-label="Sensor Readings"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#resources_1 class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dependency-management class=md-nav__link> <span class=md-ellipsis> Dependency Management </span> </a> </li> <li class=md-nav__item> <a href=#linting-and-code-style class=md-nav__link> <span class=md-ellipsis> Linting and Code Style </span> </a> <nav class=md-nav aria-label="Linting and Code Style"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#linting class=md-nav__link> <span class=md-ellipsis> Linting </span> </a> </li> <li class=md-nav__item> <a href=#code-style class=md-nav__link> <span class=md-ellipsis> Code Style </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#error-handling class=md-nav__link> <span class=md-ellipsis> Error Handling </span> </a> </li> <li class=md-nav__item> <a href=#logging class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#loading-and-accessing-configuration class=md-nav__link> <span class=md-ellipsis> Loading and Accessing Configuration </span> </a> </li> <li class=md-nav__item> <a href=#updating-configuration class=md-nav__link> <span class=md-ellipsis> Updating Configuration </span> </a> </li> <li class=md-nav__item> <a href=#validation class=md-nav__link> <span class=md-ellipsis> Validation </span> </a> </li> <li class=md-nav__item> <a href=#radio-configuration class=md-nav__link> <span class=md-ellipsis> Radio Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#imports class=md-nav__link> <span class=md-ellipsis> Imports </span> </a> </li> <li class=md-nav__item> <a href=#non-volatile-memory-nvm class=md-nav__link> <span class=md-ellipsis> Non-Volatile Memory (NVM) </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/proveskit/pysquared/edit/master/docs/design-guide.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1 id=design-guide>Design Guide</h1> <p>This document provides an overview of the design principles and architecture of the PySquared Flight Software. It is intended for developers who want to understand how the software is structured and how to contribute effectively.</p> <h2 id=circuitpython>CircuitPython</h2> <p>PySquared is built on top of CircuitPython, which is a version of Python designed for microcontrollers. CircuitPython is a fork of MicroPython which adhears to a subset of the Python language specification. Python 3.4 syntax is supported with some additional features pulled from later releases such as type hinting.</p> <h3 id=resources>Resources</h3> <ul> <li><a href=https://docs.python.org/3.4/reference/index.html>Python 3.4 Reference</a></li> <li><a href=https://docs.micropython.org/en/latest/genrst/index.html#cpython-diffs>Differences between MicroPython and Python</a></li> <li><a href=https://docs.circuitpython.org/en/latest/README.html#differences-from-micropython>Differences between CircuitPython and MicroPython</a></li> <li><a href=https://docs.circuitpython.org/en/latest/shared-bindings/index.html>CircuitPython Shared Bindings Documentation</a></li> <li><a href=https://docs.circuitpython.org/en/latest/docs/library/index.html>CircuitPython Standard Libraries Documentation</a></li> <li><a href=https://docs.circuitpython.org/en/latest/docs/design_guide.html>CircuitPython Design Guide</a></li> </ul> <h2 id=types-and-type-checking>Types and Type Checking</h2> <p>We use type hints throughout the PySquared codebase to ensure that our code is clear and maintainable. Type hints help us catch errors early and make it easier to understand the expected types of variables and function parameters.</p> <p>We use <a href=https://peps.python.org/pep-0561/ >typeshed</a> stubs to provide more accurate type hints for CircuitPython, replacing the default Python standard library type hints. These CircuitPython-specific stubs are located in the <code>typeshed/</code> directory. This helps the typechecker catch compatibility issues with CircuitPython code before running it on a device.</p> <p>We do not accept changes to files in the <code>pysquared/</code> directory that include lines ignoring the type checker (e.g., <code># type: ignore</code>). The only exceptions are:</p> <ul> <li> <p><strong>Upstream Fix in Progress:</strong> If a type error is caused by a bug or limitation in an external dependency, you may ignore the line only when leaving a comment with a link to the issue or PR where it is fixed or a fix is in progress. A valid type hint might look like this:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>some_variable</span> <span class=o>=</span> <span class=n>some_function</span><span class=p>()</span>  <span class=c1># type: ignore  # PR https://github.com/adafruit/circuitpython/pull/10603</span>
</span></code></pre></div> </li> </ul> <p>If you encounter a type error, first consider if it can be resolved by improving your code's design. If you believe an exception is necessary, please reach out for assistance before proceeding.</p> <details class=note> <summary>Using the Typing Module</summary> <p>For more advanced type hinting we can use the Python standard library's <code>typing</code> module which was introduced in Python 3.5. This module provides a variety of type hints that can be used to specify more complex types, such as <code>List</code>, <code>Dict</code>, and <code>Optional</code>. CircuitPython does not support the <code>typing</code> module so we must wrap the import in a try/except block to avoid import errors. For example:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>    <span class=kn>from</span><span class=w> </span><span class=nn>typing</span><span class=w> </span><span class=kn>import</span> <span class=n>List</span><span class=p>,</span> <span class=n>Dict</span><span class=p>,</span> <span class=n>Optional</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>    <span class=k>pass</span>
</span></code></pre></div> <p>This pattern allows us to use type hints in our code while still being compatible with CircuitPython.</p> <p>Additionally we cannot use <code>typing</code>'s <code>Any</code> type hint in CircuitPython. Instead, we can use <code>object</code> as a generic type hint.</p> </details> <h2 id=protocols>Protocols</h2> <p>Protocols are a way to define a set of methods that a class must implement. They are similar to interfaces in other programming languages or header files in C. Protocols allow us to define a contract for classes to follow, ensuring that they implement the required methods. CircuitPython does not support Protocols, so we use base classes to define our protocols where all required methods are implemented with <code>...</code> (Ellipsis). All classes that implement the protocol must override these methods. Protocols can be found in <code>pysquared/protos/</code>.</p> <h2 id=testing>Testing</h2> <p>We use <a href=https://docs.pytest.org/en/stable/ >pytest</a> for unit testing our code. We are designing software for spacecraft, so it is important that we have a robust testing framework to ensure our code is reliable and works as expected. We write tests for all of our code, and we run these tests automatically using GitHub Actions. We aim to have 100% test coverage for all of our code, which means that every line of code is tested by at least one test case.</p> <h2 id=documentation>Documentation</h2> <p>We use <a href=https://www.mkdocs.org/ >MkDocs</a> to build our documentation. We write our documentation in Markdown, which is a lightweight markup language that is easy to read and write. We document our code using docstrings, which are special comments that describe the purpose and usage of a function or class. We also use type hints in our docstrings to provide additional information about the expected types of parameters and return values. Where it makes sense, add usage examples following <a href=https://spec.commonmark.org/0.30/#fenced-code-blocks>CommonMark fenced code blocks</a> to document how to use your code.</p> <h3 id=module-documentation>Module Documentation</h3> <p>Start with a brief summary, followed by an optional extended description:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=sd>&quot;&quot;&quot;This module provides utilities for parsing and validating telemetry data from spacecraft sensors.</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=sd>It includes classes and functions for decoding sensor packets, verifying data integrity, and converting</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=sd>raw readings into SI units for further analysis.</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=sd>&quot;&quot;&quot;</span>
</span></code></pre></div> <h3 id=class-documentation>Class Documentation</h3> <p>Begin with a short description, a detailed explanation, and a practical usage example:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=sd>&quot;&quot;&quot;The TelemetryParser class extracts and validates sensor readings from raw telemetry packets.</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=sd>TelemetryParser handles packet decoding, error checking, and conversion to SI units. It is designed</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=sd>for use in spacecraft flight software where reliable sensor data is critical.</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=sd>**Usage:**</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=sd>~~~python</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=sd>from pysquared.telemetry import TelemetryParser</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=sd>parser = TelemetryParser()</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=sd>packet = b&#39;\x01\x02\x03\x04&#39;</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=sd>reading = parser.parse(packet)</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=sd>print(reading.timestamp, reading.acceleration)  # Output: 2024-06-01T12:00:00Z (0.0, 9.8, 0.0)</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=sd>~~~</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=sd>&quot;&quot;&quot;</span>
</span></code></pre></div> <h3 id=functionmethod-documentation>Function/Method Documentation</h3> <p>Include a description, argument details, return values, and any exceptions raised:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=sd>Validate a sensor reading and convert it to SI units.</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=sd>Args:</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=sd>    reading: Raw sensor reading with keys &#39;value&#39; and &#39;unit&#39;.</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=sd>    sensor_type: Type of sensor (e.g., &#39;acceleration&#39;, &#39;temperature&#39;).</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=sd>Returns:</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=sd>    float: The validated reading in SI units.</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=sd>Raises:</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=sd>    KeyError: If required keys are missing from the reading.</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=sd>    ValueError: If the reading value is out of expected range.</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=sd>&quot;&quot;&quot;</span>
</span></code></pre></div> <h2 id=sensor-readings>Sensor Readings</h2> <p>All sensor readings must be in SI units and stored in a structure that includes the time of the reading. Including the time of the reading is important for analysing sensor data and ensuring that processes such as detumbling and attitude control can be performed accurately.</p> <p>The following table lists possible sensor properties, their corresponding types and units for common sensor readings. The table was pulled directly from the <a href=https://docs.circuitpython.org/en/latest/docs/design_guide.html#sensor-properties-and-units>CircuitPython Design Guide</a>:</p> <table> <thead> <tr> <th>Property Name</th> <th>Python Type</th> <th>Units / Description</th> </tr> </thead> <tbody> <tr> <td>acceleration</td> <td>(float, float, float)</td> <td>x, y, z meter per second²</td> </tr> <tr> <td>alarm</td> <td>(time.struct, str)</td> <td>Sample alarm time and frequency string</td> </tr> <tr> <td>CO2</td> <td>float</td> <td>measured CO₂ in ppm</td> </tr> <tr> <td>color</td> <td>int</td> <td>RGB, eight bits per channel (0xff0000 is red)</td> </tr> <tr> <td>current</td> <td>float</td> <td>milliamps (mA)</td> </tr> <tr> <td>datetime</td> <td>time.struct</td> <td>date and time</td> </tr> <tr> <td>distance</td> <td>float</td> <td>centimeters (cm)</td> </tr> <tr> <td>duty_cycle</td> <td>int</td> <td>16-bit PWM duty cycle</td> </tr> <tr> <td>eCO2</td> <td>float</td> <td>equivalent/estimated CO₂ in ppm</td> </tr> <tr> <td>frequency</td> <td>int</td> <td>Hertz (Hz)</td> </tr> <tr> <td>angular velocity</td> <td>(float, float, float)</td> <td>x, y, z radians per second</td> </tr> <tr> <td>light</td> <td>float</td> <td>non-unit-specific light levels</td> </tr> <tr> <td>lux</td> <td>float</td> <td>SI lux</td> </tr> <tr> <td>magnetic</td> <td>(float, float, float)</td> <td>x, y, z micro-Tesla (uT)</td> </tr> <tr> <td>orientation</td> <td>(float, float, float)</td> <td>x, y, z degrees</td> </tr> <tr> <td>pressure</td> <td>float</td> <td>hectopascal (hPa)</td> </tr> <tr> <td>proximity</td> <td>int</td> <td>non-unit-specific proximity values</td> </tr> <tr> <td>relative_humidity</td> <td>float</td> <td>percent</td> </tr> <tr> <td>sound_level</td> <td>float</td> <td>non-unit-specific sound level</td> </tr> <tr> <td>temperature</td> <td>float</td> <td>degrees Celsius</td> </tr> <tr> <td>TVOC</td> <td>float</td> <td>Total Volatile Organic Compounds in ppb</td> </tr> <tr> <td>voltage</td> <td>float</td> <td>volts (V)</td> </tr> <tr> <td>weight</td> <td>float</td> <td>grams (g)</td> </tr> </tbody> </table> <p>Definitions for sensor readings can be found in <code>pysquared/sensors/</code></p> <div class="admonition warning"> <p class=admonition-title>Handling Sensor Reading Failures</p> <p>Sensor reading failures must be expected and handled gracefully. If a sensor reading fails, the code should log an error message and return a default value (e.g., <code>0.0</code> for numeric readings or <code>None</code> for optional readings). This ensures that the system can continue to operate even if a sensor is temporarily unavailable. In the case of a sensor hanging, the attempt must time out and return a default value.</p> </div> <h3 id=resources_1>Resources</h3> <ul> <li><a href="https://learn.adafruit.com/using-the-adafruit-unified-sensor-driver?view=all">Adafruit Unified Sensor Driver</a></li> <li><a href=https://developer.android.com/develop/sensors-and-location/sensors/sensors_motion>Android Motion Sensor Documentation</a></li> <li><a href=https://developer.android.com/develop/sensors-and-location/sensors/sensors_position>Android Position Sensor Documentation</a></li> <li><a href=https://developer.android.com/develop/sensors-and-location/sensors/sensors_environment>Android Environment Sensor Documentation</a></li> </ul> <h2 id=dependency-management>Dependency Management</h2> <p>We use <a href=https://docs.astral.sh/uv/ ><code>uv</code></a> for managing our python development environment and dependencies. It allows us to define our dependencies in a <code>pyproject.toml</code> file and provides a consistent way to install and manage them across different environments. We use dependency groups to separate the dependencies needed for running on the satellite <code>pyproject.dependencies</code>, development <code>pyproject.dev</code>, and documentation <code>pyproject.docs</code>.</p> <p><code>uv</code> is downloaded and installed automatically when you use run <code>make</code> commands. Please see the <a href=Makefile>Makefile</a> or <code>make help</code> for more information on how to use <code>uv</code> to manage your development environment.</p> <h2 id=linting-and-code-style>Linting and Code Style</h2> <p>We use <a href=https://docs.astral.sh/ruff/ ><code>ruff</code></a> for linting and formatting our code. <code>ruff</code> is a fast, extensible linter that checks our code for errors and enforces specific coding standards and style. We use <code>ruff</code>'s <a href="https://github.com/astral-sh/ruff/tree/0.12.3?tab=readme-ov-file#configuration">default configuration</a> with only one addition, isort (<code>-I</code>), for linting and formatting our code.</p> <h3 id=linting>Linting</h3> <p><code>ruff</code> checks our code for errors following <a href=https://pypi.org/project/pyflakes/ >pyflakes</a> logic.</p> <h3 id=code-style>Code Style</h3> <p>By default <code>ruff</code>, enforces the <a href=https://black.readthedocs.io/en/stable/the_black_code_style/current_style.html><code>black</code></a> style with <a href=https://docs.astral.sh/ruff/formatter/#style-guide>a few deviations</a> decided by <code>ruff</code> for formatting our code. Code formatting ensures that our code is consistent and easy to read.</p> <h2 id=error-handling>Error Handling</h2> <p>Error handling in PySquared is designed to be robust and predictable. We use standard <code>try...except</code> blocks to catch exceptions. When an exception is caught, it should be logged with the <code>logger.error()</code> or <code>logger.critical()</code> method. This ensures that we have a record of the error and can diagnose it later.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>    <span class=c1># Code that may raise an exception</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>    <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;An error occurred&quot;</span><span class=p>,</span> <span class=n>err</span><span class=o>=</span><span class=n>e</span><span class=p>)</span>
</span></code></pre></div> <p>Custom exceptions should be used to represent specific error conditions in your code. This allows us to handle different types of errors in a more granular way. Custom exceptions should inherit from the built-in <code>Exception</code> class and should be named using the <code>Error</code> suffix.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>class</span><span class=w> </span><span class=nc>CustomError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom exception for specific error conditions.&quot;&quot;&quot;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=k>pass</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=k>try</span><span class=p>:</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>    <span class=c1># Code that may raise a CustomError</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=k>except</span> <span class=n>CustomError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>    <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;A custom error occurred&quot;</span><span class=p>,</span> <span class=n>err</span><span class=o>=</span><span class=n>e</span><span class=p>)</span>
</span></code></pre></div> <p>When raising exceptions, always provide a clear and descriptive error message. This will help us understand the context of the error when it is logged.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>raise</span> <span class=n>CustomError</span><span class=p>(</span><span class=s2>&quot;This is a custom error message&quot;</span><span class=p>)</span>
</span></code></pre></div> <h2 id=logging>Logging</h2> <p>The syntax for our logging module <code>logger</code> is based off the popular Python logger <a href=https://loguru.readthedocs.io/en/stable/ ><code>Loguru</code></a>. We use the <code>logger</code> module to log messages at different levels (<code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>critical</code>) throughout our code. This allows us to track the flow of execution and diagnose issues when they arise.</p> <p>Logs are structured as JSON, which makes them easy to parse and analyze. When logging, you can include additional key-value pairs to provide context.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;User logged in&quot;</span><span class=p>,</span> <span class=n>user_id</span><span class=o>=</span><span class=mi>123</span><span class=p>)</span>
</span></code></pre></div> <p>Code that raises an exception should log at the <code>error</code> level. Code that failed but is recoverable should log at the <code>warning</code> level. The <code>debug</code> level should be used to understand the flow of the program during development and debugging. The <code>info</code> level should be used for general information about the program's execution, such as startup, shutdown, and other important updates. <code>critical</code> should be used for serious errors that may prevent the satellite from continuing operation, requiring a restart.</p> <h2 id=configuration>Configuration</h2> <p>Configuration management in PySquared is centralized in the <code>Config</code> class. This class is responsible for loading, validating, and providing access to all configuration settings, which are stored in a JSON file.</p> <h3 id=loading-and-accessing-configuration>Loading and Accessing Configuration</h3> <p>The <code>Config</code> class is initialized with the path to the configuration file. It parses the JSON and exposes the settings as attributes.</p> <p><strong>Usage:</strong> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=kn>from</span><span class=w> </span><span class=nn>pysquared.config</span><span class=w> </span><span class=kn>import</span> <span class=n>Config</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=c1># Initialize the config with the path to your settings file</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=n>config</span> <span class=o>=</span> <span class=n>Config</span><span class=p>(</span><span class=s2>&quot;config.json&quot;</span><span class=p>)</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=c1># Access configuration values directly</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Satellite Name: </span><span class=si>{</span><span class=n>config</span><span class=o>.</span><span class=n>cubesat_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Sleep Duration: </span><span class=si>{</span><span class=n>config</span><span class=o>.</span><span class=n>sleep_duration</span><span class=si>}</span><span class=s2> seconds&quot;</span><span class=p>)</span>
</span></code></pre></div></p> <h3 id=updating-configuration>Updating Configuration</h3> <p>The <code>update_config</code> method allows for both temporary (in-memory) and permanent (persisted to the JSON file) changes to the configuration.</p> <ul> <li><strong>Temporary Updates:</strong> Changes are only applied to the <code>Config</code> object in memory and will be lost on restart.</li> <li><strong>Permanent Updates:</strong> Changes are written back to the configuration file.</li> </ul> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># Temporarily update the sleep duration</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=n>config</span><span class=o>.</span><span class=n>update_config</span><span class=p>(</span><span class=s2>&quot;sleep_duration&quot;</span><span class=p>,</span> <span class=mi>120</span><span class=p>,</span> <span class=n>temporary</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=c1># Permanently update the satellite&#39;s name</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=n>config</span><span class=o>.</span><span class=n>update_config</span><span class=p>(</span><span class=s2>&quot;cubesat_name&quot;</span><span class=p>,</span> <span class=s2>&quot;PyCubed&quot;</span><span class=p>,</span> <span class=n>temporary</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></code></pre></div> <h3 id=validation>Validation</h3> <p>The <code>Config</code> class includes a validation schema to ensure that all configuration values are within expected ranges and of the correct type. Any attempt to set an invalid value will raise a <code>TypeError</code> or <code>ValueError</code>. This helps prevent runtime errors due to misconfiguration.</p> <h3 id=radio-configuration>Radio Configuration</h3> <p>Radio-specific settings are managed by the <code>RadioConfig</code> class, which is a nested object within the main <code>Config</code> class.</p> <h2 id=imports>Imports</h2> <p>We use relative imports for all of our modules. This allows us to easily import pysquared into downstream libraries like our board specific repos. For example, if we have a module <code>pysquared.sensors.temperature</code>, we can import it in another module using:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=kn>from</span><span class=w> </span><span class=nn>.sensors.temperature</span><span class=w> </span><span class=kn>import</span> <span class=n>TemperatureSensor</span>
</span></code></pre></div> <h2 id=non-volatile-memory-nvm>Non-Volatile Memory (NVM)</h2> <p>We use the <code>pysquared.nvm</code> module to manage non-volatile memory (NVM) on the flight control board. This module provides a way to store persistent data across reboots, such as error counters and other important state information. The NVM module includes a <code>Counter</code> class for counting events and a <code>Flag</code> class for storing boolean flags.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="November 18, 2025 03:05:02 UTC"><span class=timeago datetime=2025-11-18T03:05:02+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="November 18, 2025 03:05:02 UTC">2025-11-18</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="November 18, 2025 03:05:02 UTC"><span class=timeago datetime=2025-11-18T03:05:02+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="November 18, 2025 03:05:02 UTC">2025-11-18</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/proveskit target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.action.edit", "content.code.copy", "content.code.select", "content.tabs.link", "header.autohide", "navigation.sections", "navigation.tabs", "navigation.top", "search.highlight", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../js/timeago.min.js></script> <script src=../js/timeago_mkdocs_material.js></script> </body> </html>